(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{ac2a:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{id:"formLogin",form:e.form},on:{submit:e.handleSubmit}},[e.isLoginError?r("a-alert",{staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",showIcon:"",message:e.$t("user.login.message-invalid-credentials")}}):e._e(),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:e.$t("user.userName.required")},{validator:e.handleUsernameOrEmail}],validateTrigger:"change"}],expression:"[\n                'username',\n                {rules: [{ required: true, message: $t('user.userName.required') }, { validator: handleUsernameOrEmail }], validateTrigger: 'change'}\n              ]"}],attrs:{size:"large",type:"text",placeholder:e.$t("user.login.username.placeholder")}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:e.$t("user.password.required")}],validateTrigger:"blur"}],expression:"[\n                'password',\n                {rules: [{ required: true, message: $t('user.password.required') }], validateTrigger: 'blur'}\n              ]"}],attrs:{size:"large",placeholder:e.$t("user.login.password.placeholder")}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),r("a-form-item",{staticStyle:{"margin-top":"24px"}},[r("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.state.loginBtn,disabled:e.state.loginBtn}},[e._v(e._s(e.$t("user.login.login")))])],1)],1)],1)},s=[],i=r("5530"),n=(r("d3b7"),r("2f62")),o=r("ca00");"function"===typeof TextDecoder&&new TextDecoder,"function"===typeof TextEncoder&&new TextEncoder;const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[...l];(e=>{let t={};e.forEach((e,r)=>t[e]=r)})(c),String.fromCharCode.bind(String),"function"===typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array);var u={components:{},data:function(){return{customActiveKey:"tab1",loginBtn:!1,loginType:0,isLoginError:!1,err:{},form:this.$form.createForm(this),state:{time:60,loginBtn:!1,loginType:0,smsSendBtn:!1}}},created:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["Login","Logout"])),{},{handleUsernameOrEmail:function(e,t,r){var a=this.state,s=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;s.test(t)?a.loginType=0:a.loginType=1,r()},handleTabClick:function(e){this.customActiveKey=e},handleSubmit:function(e){var t=this;e.preventDefault();var r=this.form.validateFields,a=this.state,s=this.customActiveKey,n=this.Login;a.loginBtn=!0;var o="tab1"===s?["username","password"]:["mobile","captcha"];r(o,{force:!0},(function(e,r){if(e)setTimeout((function(){a.loginBtn=!1}),600);else{var s=Object(i["a"])({},r);delete s.username,s.userId=r.username,s.password=r.password,n(s).then((function(e){return t.loginSuccess(s.userId)})).finally((function(){a.loginBtn=!1}))}}))},loginSuccess:function(e){var t=this;this.$router.push({path:"/"}),setTimeout((function(){t.$notification.success({message:"欢迎",description:"".concat(Object(o["a"])(),"，欢迎回来")})}),1e3),this.isLoginError=!1},requestFailed:function(e){this.$notification["error"]({message:"错误",description:((e.response||{}).data||{}).message||"请求出现错误，请稍后再试",duration:4})}})},d=u,m=(r("e08a"),r("2877")),g=Object(m["a"])(d,a,s,!1,null,"6385cc7e",null);t["default"]=g.exports},e08a:function(e,t,r){"use strict";r("f771")},f771:function(e,t,r){}}]);